(()=>{var t={156:function(t,e,n){"use strict";var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,o){function r(t){try{p(s.next(t))}catch(t){o(t)}}function a(t){try{p(s.throw(t))}catch(t){o(t)}}function p(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}p((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.CallBack=void 0;class i{constructor(){this.language=Object.assign({},n(26)),this.setLanguage=t=>{try{this.language=Object.assign({},n(846)(`./${t}.json`))}catch(e){console.log(`Language ${t} is not supported`)}},this.btn=document.createElement("div"),this.popup=document.createElement("div"),this.closeButton=document.createElement("div"),this.text=document.createElement("p"),this.sendButton=document.createElement("button"),this.form=document.createElement("form"),this.input=document.createElement("input"),this.show=!1,this.init=t=>s(this,void 0,void 0,(function*(){const e=document.querySelector("html"),n=t.lang||(null==e?void 0:e.getAttribute("lang"));this.setLanguage(n||"en"),(yield this.waitForElement("body"))&&this.renderCallBack(t)})),this.waitForElement=t=>new Promise((e=>{if(document.querySelector(t))return e(document.querySelector(t));const n=new MutationObserver((s=>{document.querySelector(t)&&(e(document.querySelector(t)),n.disconnect())}));n.observe(document.body,{childList:!0,subtree:!0})})),this.renderCallBack=t=>{this.applyButtonStyle(t),this.applyPopupStyle(t),this.applyCloseButtonStyle(t),this.applyTextStyle(t),this.applyFormStyle(),this.applyInputStyle(t),this.applySendButtonStyle(t),this.addEvents(t),this.appendAll()},this.applyButtonStyle=t=>{Object.assign(this.btn.style,Object.assign({cursor:"pointer",width:"80px",height:"80px",background:"url(icons/phone.svg)center/cover",position:"fixed",bottom:"20px",right:"20px",boxShadow:"none",transform:"scale(1)",transition:"0.2s"},t.buttonStyle||{}))},this.applyButtonHoverStyle=t=>{Object.assign(this.btn.style,t.hoverButtonStyle||{transform:"scale(1.1)"})},this.applyPopupStyle=t=>{Object.assign(this.popup.style,Object.assign({width:"100%",maxWidth:"440px",height:"240px",background:"rgb(5, 168, 154)",position:"fixed",bottom:"60px",right:"60px",borderRadius:"5px",display:this.show?"block":"none",boxSizing:"border-box",padding:"20px"},t.popupStyle||{}))},this.applyCloseButtonStyle=t=>{Object.assign(this.closeButton.style,Object.assign({cursor:"pointer",width:"20px",height:"20px",background:"url(icons/arrow_down.svg)center/cover",position:"absolute",top:"10px",right:"10px",boxShadow:"none",transform:"scale(1)",transition:"0.2s"},t.buttonStyle||{}))},this.applyTextStyle=t=>{Object.assign(this.text.style,Object.assign({color:"white"},t.textStyle||{})),this.text.innerText=t.text||"Nemáte čas, nevíte si rady? Zanechte nám telefonní číslo a my vám pomůžeme ušetřit"},this.applyInputStyle=t=>{Object.assign(this.input.style,Object.assign({border:"none",width:"100%",padding:"5px",outline:"none",borderRadius:"5px",fontSize:"30px",margin:"10px auto 20px"},t.inputStyle||{}))},this.applySendButtonStyle=t=>{Object.assign(this.sendButton.style,Object.assign({color:"white",border:"none",padding:"5px",outline:"none",borderRadius:"5px",fontSize:"20px",background:"rgb(6, 83, 76)",cursor:"pointer"},t.sendButtonStyle||{})),this.sendButton.innerText=t.text||"ODESLAT"},this.applyFormStyle=()=>{Object.assign(this.form.style,{display:"flex",flexDirection:"column",alignItems:"center"}),this.form.setAttribute("id","call_back_form_vlsr")},this.addEvents=t=>{this.btn.addEventListener("mouseover",(e=>{this.applyButtonHoverStyle(t)})),this.btn.addEventListener("mouseout",(e=>{this.applyButtonStyle(t)})),this.input.addEventListener("input",this.handleInput),this.closeButton.addEventListener("click",this.pressButtonHandler),this.btn.addEventListener("click",this.pressButtonHandler),this.btn.addEventListener("touch",this.pressButtonHandler),this.btn.addEventListener("dblclick",(t=>{t.preventDefault()}))},this.handleInput=t=>{t.target.value=this.phoneMask(t.target.value)},this.phoneMask=t=>t.replace(/\D/g,"").replace(/^(\d)/,"($1").replace(/^(\(\d{2})(\d)/,"$1) $2").replace(/(\d{4})(\d{1,5})/,"$1-$2").replace(/(-\d{5})\d+?$/,"$1"),this.pressButtonHandler=()=>{this.show=!this.show,Object.assign(this.popup.style,{display:this.show?"block":"none"})},this.appendAll=()=>{document.body.append(this.popup),this.popup.append(this.closeButton),this.popup.append(this.text),this.form.append(this.input),this.form.append(this.sendButton),this.popup.append(this.form),document.body.append(this.btn)}}}e.CallBack=i,"undefined"!=typeof window&&(window.CallBack=i)},846:(t,e,n)=>{var s={"./en.json":26};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=o,t.exports=i,i.id=846},26:t=>{"use strict";t.exports=JSON.parse('{"error_field_required":"This field is required"}')}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var o=e[s]={exports:{}};return t[s].call(o.exports,o,o.exports,n),o.exports}n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n(156)})();
//# sourceMappingURL=call_back.js.map